@model DeckBuilder.Models.ViewModels.UpdateCard

@{
    ViewBag.Title = "Update";
}

<h2>Update @Model.card.CardName</h2>
<form method="POST" action="/Card/Update/@Model.card.CardID" enctype="multipart/form-data">
    <div>
        <span>Image: </span><input type="file" name="CardPic" id="CardPic" />
    </div>
    <div>
        <label name="CardName">Card Name: </label>
        <input type="text" name="CardName" id="CardName" value="@Model.card.CardName" />

    </div>
    <div>
        <label name="CardColour">Card Colour: </label>
        <select id="CardColour" type="text" name="CardColour">
            @{
                if (@Model.card.CardColour == "Yellow") {
                    <option value="Yellow" selected>Yellow</option>
                }
                else {
                    <option value="Yellow">Yellow</option>
                }
                if (@Model.card.CardColour == "Green") { 
                    <option value="Green" selected>Green</option>
                }
                else {
                    <option value="Green">Green</option>
                }
                if (@Model.card.CardColour == "Red") {
                    <option value="Red" selected>Red</option>
                }
                else {
                    <option value="Red">Red</option>
                }
                if (@Model.card.CardColour == "Blue") {
                    <option value="Blue" selected>Blue</option>
                }
                else {
                    <option value="Blue">Blue</option>
                }
            }
        </select>
    </div>
    <div>
        <label name="SeriesID">Series: </label>
        <select id="SeriesID" type="text" name="SeriesID">
            @{
                //A rendering loop for presenting a list of series
                //The card should be one of these series
                foreach (var series in @Model.allSeries)
                {
                    if (Model.card.SeriesID == @series.SeriesID)
                    {
                        <option value="@series.SeriesID" selected>@series.SeriesName</option>
                    }
                    else
                    {
                        <option value="@series.SeriesID">@series.SeriesName</option>

                    }
                }
            }
        </select>
    </div>
    <div>
        <label name="TraitID1">Trait: </label>
        <select id="TraitID1" type="text" name="TraitID1">
            @{
                <option value="-1">Not Selected</option>
                //A rendering loop for presenting a list of traits
                foreach (var trait in @Model.allTraits)
                {
                    if (Model.traits.Count > 0 && Model.traits[0].TraitID == trait.TraitID)
                    {
                        <option value="@trait.TraitID" selected>@trait.TraitName</option>
                    }
                    else
                    {
                        <option value="@trait.TraitID">@trait.TraitName</option>
                    }
                }
            }
        </select>
    </div>
    <div>
        <label name="TraitID2">Trait: </label>
        <select id="TraitID2" type="text" name="TraitID2">
            @{
                <option value="-1">Not Selected</option>
                //A rendering loop for presenting a list of traits
                foreach (var trait in @Model.allTraits)
                {
                    if (Model.traits.Count > 1 && Model.traits[1].TraitID == trait.TraitID)
                    {
                        <option value="@trait.TraitID" selected>@trait.TraitName</option>
                    }
                    else
                    {
                        <option value="@trait.TraitID">@trait.TraitName</option>
                    }
                }
            }
        </select>
    </div>
    <input type="submit" value="Update Card" />
</form>
